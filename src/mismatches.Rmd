---
title: "Mismatches"
author: "Suman Sahil, Steve Simon"
date: "Creation date: 2019-10-16"
output: powerpoint_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r connect}
library(sqldf)
db <- dbConnect(SQLite(), dbname="../data/unmatched-labels.sqlite")
```

### How to handle mismatches
+ Labels in small table without matching codes in big table
+ Codes in big table without matching label in small table

<div class="notes">

In the previous module, I mentioned a simple case: every label in the small table has a code in the big table and vice versa. In this lecture, I'll discuss cases where you have mismatches.

</div>

### Four types of joins
+ Inner join
  + Remove mismatches in either direction
    + No null values created
+ Left join
  + Removes mismatches from second database
  + Keeps mismatches from first database
    + Second database fields filled with null values
+ Right join
  + Removes mismatches from the first database
  + Keeps mismatches from the second database
    + First database fields filled with null values
+ Full join, outerjoin
  + Keeps mismatches from first database
    + Second database fields filled with null values
  + Keeps mismatches from the second database
    + First database fields filled with null values

<div class="notes">



</div>

### Unmatched label, the individual tables

```{r}
sql_code <- 
"select * 
  from sex_table"
```
+ SQL code
```
`r sql_code`
```
+ SQL output
```{r}
dbGetQuery(conn=db, sql_code)
```

<div class="notes">


### Unmatched label, 

```{r}
dbListTables(conn=db)
```

```{r shut-down-gracefully, eval=FALSE}
dbDisconnect(conn=db)
```

### Conclusion
+ What have you learned.
